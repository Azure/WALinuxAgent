#
# This suite is used to test the scenario where outbound connections are blocked on the VM.
#
# The suite uses a custom ARM template to create a VM with a Network Security Group that blocks all outbound
# connections. The sutie verifies that artifact downloads succeed via HGAP when outbound connectivity on the VM
# is disabled.
#
name: "NoOutboundConnections"
tests:
  - source: "no_outbound_connections/check_no_outbound_connections.py"
    blocks_suite: true  # If the NSG is not setup correctly, there is no point in executing the rest of the tests.
  - "no_outbound_connections/check_does_not_switch_to_direct.py"
images: "random(endorsed)"
template: "no_outbound_connections/deny_outbound_connections.py"
owns_vm: true
